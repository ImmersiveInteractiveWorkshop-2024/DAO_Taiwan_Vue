import{io as h}from"https://cdn.socket.io/4.7.5/socket.io.esm.min.js";import{_,c as p,a as e,b as m,w as f,g,F as w,r as v,o as b,d as i,p as x,i as y}from"./index-KnXZzh0I.js";const D="/DAO_Taiwan_Vue/assets/logo_white-AiIJoPJw.png",I="/DAO_Taiwan_Vue/assets/streetlight-La1yFIpG.png",k="/DAO_Taiwan_Vue/assets/toggle-light-Mn1Hd3bC.png",a=h("https://daotaiwanapi.onrender.com",{withCredentials:!1}),C={data(){return{imageSrc:"/src/assets/images/default_image.png",resultData:null}},methods:{toggleDarkMode(){const t=document.querySelector(".toggle-switch");t.classList.toggle("active"),document.querySelector(".toggle-light").classList.toggle("active"),this.resultData&&(t.classList.contains("active")?this.fetchTextureById(this.resultData._id,"conbon_c","light-on"):this.fetchTextureById(this.resultData._id,"conbon_c","light-off"))},fetchTextureById(t,s,n){try{a.emit(n,{_id:t,category:s})}catch(c){console.error("開關燈失敗:",c)}}},created(){a.on("new-texture",t=>{console.log("伺服器傳送訊息:",t),this.resultData=t}),a.on("light-on",t=>{console.log("伺服器傳送訊息:",t),this.resultData=t}),a.on("light-off",t=>{console.log("伺服器傳送訊息:",t),this.resultData=t})}},o=t=>(x("data-v-b5e1aa2d"),t=t(),y(),t),S=o(()=>e("h1",{class:"d-none"},"結果頁面",-1)),T={id:"app",class:"position-relative",ref:"appContainer"},V={class:"my-0 mx-auto d-flex justify-content-between align-items-center"},B=o(()=>e("img",{class:"logo_white",src:D,alt:"logo_white"},null,-1)),L={class:"w-25 d-flex"},M=["src"],A=o(()=>e("img",{class:"streetlight",src:I,alt:"streetlight"},null,-1)),j=o(()=>e("img",{src:k,alt:"toggle-light",class:"streetlight toggle-light"},null,-1)),F={class:"d-flex flex-column justify-content-between h-100 py-5 result-content"},N=o(()=>e("div",{class:"toggle-handle"},null,-1)),O=[N],q=o(()=>e("p",{class:"result-text"},[i("已點亮您的招牌"),e("br"),i("試著在場景中找到他吧！！")],-1)),J={class:"d-flex justify-content-between"};function E(t,s,n,c,d,r){const u=v("router-link");return b(),p(w,null,[S,e("div",T,[e("nav",V,[B,e("div",L,[m(u,{class:"done-button",to:"/home"},{default:f(()=>[i("家")]),_:1})])]),e("img",{src:d.imageSrc,class:"result-image",alt:"result-image"},null,8,M),A,j,e("div",F,[e("div",{class:"toggle-switch mx-auto",onClick:s[0]||(s[0]=(...l)=>r.toggleDarkMode&&r.toggleDarkMode(...l))},O),q,e("div",J,[e("a",{class:"upload-button",href:"#",onClick:s[1]||(s[1]=g((...l)=>t.uploadImage&&t.uploadImage(...l),["prevent"]))},"下載"),e("a",{class:"upload-button",href:"#",onClick:s[2]||(s[2]=g((...l)=>t.uploadImage&&t.uploadImage(...l),["prevent"]))},"大家ㄉ庫")])])],512)],64)}const P=_(C,[["render",E],["__scopeId","data-v-b5e1aa2d"]]);export{P as default};
